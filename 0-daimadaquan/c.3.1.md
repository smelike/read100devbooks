Chapter 3: Measure Twice, Cut Once: Upstream Prerequisites

三思而后行：前期准备


### 内容

- 3.1 前期准备的重要性： P24

- 3.2 辨明你所从事的软件的类型：P31

- 3.3 问题定义的先决条件 P36

- 3.4 需求的先决条件：P38

- 3.5 架构的先决条件：P43

- 3.6 花费在前期准备上的时间长度：P55

----

### 相关章节

- 关键的“构建”决策：chapter 4

- 项目规模对“构建”及前期准备的影响：Chapter 27

- 质量目标与构建活动之间的关系：Chapter 20

- 管理构建：Chapter 28

- 设计：Chapter 5


----

在开始建造房子之前，施工人员会审视蓝图（包含所有细节信息的设计详图），查看是否获得了全部（建筑）许可证，并测量房屋的地基。施工人员建造摩天大楼用一种方法，建造普通住宅用另一种方法，建造犬舍用第三种方法。

无论何种项目，都会对“准备工作”进行剪裁，使之符合项目的特定需要；在构建活动开始之前，准备工作要做周全。

本章描述软件构建必须做的准备工作。就像修建建筑物一样，项目的成败很大程度上在构建活动开始之前就已经注定了。如果地基没打好，或者计划不充分，那么你在构建期间能做的无非是尽量让损害最小罢了。


木匠的谚语“瞄两次，切一次”（Measure twice, cut once/三思而后行）与软件开发中的构建部分有密切联系，**构建活动差不多占整个项目成本的 65%。**


最糟糕的软件项目最终会进行两三次（甚至更多）构建。将项目中最昂贵的部分执行两遍，这无论在软件行业还是在其他行业都是愚蠢的主意。

虽然本章是为成功的软件构建打地基，但是并没有直接讨论构建活动。如果你觉得自己是食肉动物，或者已经精通软件工程的生命周期，那么请径直翻到第 5 章“软件构建中的设计”这块肥肉。

如果你不打算动“为构建活动做前期准备”这个念头，那么请复习第 3.2 节“辨明你所从事的软件的类型”，认识一下如何将前期准备应用到你所处的情形。

然后再关注第 3.1 节中的数据，这些数据描述了不做前期准备将会付出的代价。


----

3.1 Importance of Prerequisites

前期准备的重要性

----

交叉引用 

**关注质量就是提高生产力的最佳途径。**

更多细节请参见第 20.5 节“软件质量的普遍原则”。

----

使用高质量的实践方法是那些能创造高质量软件的程序员的共性。这些高质量的实践方法在项目的初期、中期、末期都强调质量。

**如果你在项目的末期强调质量，那么你会强调系统测试。**

当提到软件质量保证的时候，许多人都会想到测试。但是测试只是完整的质量保证策略的一部分，而且不是最有影响的部分。

**测试是不可能检查出诸如“制造了一个错误的产品”，或者“使用错误的方法制造正确的产品”之类的缺陷的。**

这样的缺陷必须在测试之前解决——更确切地说是在构建活动之前。


如果你在项目的开始阶段强调质量，那么你就会计划、要求并且设计一个高质量的产品。如果你用为 Pontiac Aztek 做的设计来开始整个生产过程，那么你可以想尽办法来测试，它也绝对不会变成劳斯莱斯。也许你能造出最好的 Aztek，但如果想要的是一辆劳斯莱斯，那么你就得从头开始做计划。在软件开发中，你也需要在定义问题、定下解决方案的规格，以及设计解决方案的时候做出这种计划。


**由于构建活动是软件项目的中间阶段**，在你开始构建的时候，项目前期工作已经或多或少为这个项目的成功或失败打下了基础。然而，在构建过程中，你至少应该能辨明当时的形势如何，如果你看到失败的乌云已经出现在地平线上时，就退回到项目的前期工作吧。本章的其余部分将仔细详述为什么合适的准备工作是非常重要的，并且告诉你如何判定“是否已经准备好开始构建工作了”。

----

译注：Ponitac Aztek 是一款非常难看的小轿车，位列 cartalk 网站“全球十大最丑车”榜首。

----


### Do Prerequisites Apply to Modern Software Projects

前期准备适用于现代软件项目吗


```
方法论应该选用最新最好的，而不应该无知地做出选择。当然也应该公平地对待“旧且可靠的方法”。

—— Harlan Mills
```

有些人断言，诸如架构、设计及项目规划等前期工作对于现代软件项目来说是毫无用处的。总体来说，没有哪项研究（无论过去还是现在）支持这一断言，最近的数据也不支持这一断言（具体请看本章的其余部分）。

反对前期准备的人通常会给出一些前期准备做得很糟糕的例子，然后指出这种工作毫无作用。但无论如何，前期准备也可以做得非常好；并且从 20 世纪 70 年代开始至今的业界数据显示，如果在开始构建活动之前认真地进行恰当的准备活动，那么项目将会运作得极好。


**准备工作的中心目标就是降低风险：**一个好的项目规划者能够尽可能早地将主要的风险清除掉，以使项目的大部分工作能够尽可能平稳地进行。目前，软件开发中最常见的项目风险是糟糕的需求分析和糟糕的项目计划，因此准备工作就倾向于集中改进需求分析和项目规划。


构建活动的准备工作不是一门精密科学，要根据每一个项目的特点来选择特定的降低风险的方法。具体细节随项目的不同，会有非常大的变化。


----

### Cause of Incomplete Preparation

准备不周全的诱因

你可能会认为所有的专业程序员都知道准备工作的重要性，并且在跃入构建活动之前会检查确认所有先决条件都已经满足了。很不幸，这不是事实。

造成准备工作不充分的一个常见原因是，那些分配去做前期准备活动的开发人员并不具备完成这一任务的专业技能。项目规划、创作引人注目的商业案例、分析出全面而准确的需求、创建高质量的架构等活动都需要一定的技能，这些技能不是轻而易举就能获得的。但是绝大多数开发人员都没有接受过针对这些活动的训练，**当开发人员不知道如何进行这些前期工作的时候，建议“做更多的前期工作”就完全没有用：如果不能首先把这些工作做好，那么做再多也没有意义！**

说明如何进行这些活动已经超出了本书的范围，不过在本章最后的“更多资源”中，提供了许多获取这些专业技能的途径。

----

有一些程序员确实知道如何进行前期工作，但是他们并没有做，因为他们不能够抵抗“尽快开始编码”的欲望。如果你也是这样，我有两条建议：第一，阅读下一节中的争论，它也许能告诉你一些你以前没有想到的问题；第二，注意一下你经历过的问题。

只需要做几个大项目，你就能够体会到：事先做好计划能避免很多压力。让你自己的经验来引导你吧。

程序员不做准备工作的最后一个原因是，管理者们对那些“花时间进行构建活动的前期准备的程序员”的冷漠已经到了人神共愤的程度。Barry Boehm、Grady Booch 及 Karl Wiegers 等人 25 年来一直在擂响需求和设计的战鼓，因此你可以期望，管理者们应该已经开始明白：软件开发不仅仅是写代码。

(......美国国防部的项目案例)

这种现象被称为 WISCA 综合症或者 WIMP 综合症：Why Isn't Sam Coding Anything? (为什么 Sam 不在写代码？)或者 Why Isn't Mary Programming? (为什么 Mary 不在编程？)


如果你的项目经理装成陆军准将的样子，命令你立刻开始写代码，你可以轻易地说：”遵命！“（这有什么可怕的？老手当然知道他在说什么。）

这种回答很糟糕，你可以有几种更好的替代方案。首先，你可以断然拒绝以这种无效的命令，假如你和老板的关系不错，而且你银行账户的钱数也支持你这么做的话，祝你好运。


第二个不太靠得住的方案是假装在写代码，而事实上不是。在你的桌角上放一份旧的程序代码清单，然后投入需求和架构的开发中，同时不用去理会老板同不同意。你将能够更快地完成项目，并得到更高的质量。有些人会觉得这种方法不合乎伦理，但是从你老板的视角来看，无知是福。


第三种方法是，你可以教育你的老板，告诉他技术项目的微妙之处。这是一个好办法，因为它能增加世界上脱盲的老板的人数。

最后一个方案是，你可以另外找一份工作。虽然经济景气程度时高时低，但是优秀的程序员永远是紧缺的（BLS 2002）。人生苦短，当有大量更好的选择摆在你面前的时候，在一个荒蛮的软件企业中工作是不明智的。



----

### 深入阅读

- (Professional Software Development)(《专业软件开发》， McConnell 2004 第 16 章描述了意向能培养这些技能的专业培养计划。)



- (Gerald Weinberg 的经典著作（The Psychology of Computer Programming） Weignberg 1998)。


----












