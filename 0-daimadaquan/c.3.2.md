c.3.2 

### Utterly compelling and Foolproof Argument for Doing Prerequisites Befoew Construction

关于开始构建之前要做前期准备的绝对有力且简明的论据


设想你已经到过“问题”定义之山，与名为“需求”之人同行数里，在“架构”之泉面前脱下脏兮兮的外套，然后再“前期准备”之纯净水中沐浴。

那么你就会知道，在实现一个系统之前，你需要理解“这个系统应该做什么”，以及“它该如何做到这些”。


作为技术雇员，你的一部分工作就是培训周围的非技术人员，讲解开发过程。本节将有助你应对那些“尚未觉悟的管理者和老板”。这里有支持“在开始编码、测试、调试之前进行需求分析和架构设计——才能保证关键的方面都做正确”这一观点的大量论据。学习这些论据，然后与老板一同坐下来，进行一次有关开发过程的恳谈。


----

### Appeal to Logic

> 诉诸逻辑

进行有效编程的要领之一是：准备工作很重要。在开始一个大项目之前，应该为这个项目制订计划，这是很有意义的。大的项目需要做更多的计划，而小项目则可以少些。从管理者的角度看，做计划意味着确定项目所需要的时间、人数以及计算机台数。

从技术角度讲，做计划意味着弄清楚你想要建造的是什么，以防止浪费钱去建造错误的东西。

有时候用户在一开始并不完全确定自己想要的是什么，因此值得花费比理想情况下更多的力气，找出他们真正想要的东西。


但这至少比“先做一个错误的东西出来，然后扔掉，并从头来过”的成本要低廉。


在开始动手制作这个系统之前，先好好思考打算如何去做，这也非常重要。你总不希望花费很多的时间和金钱，却毫无必要地走进死胡同（尤其当这样做会增加成本的时候）。


### Appeal to Analogy

> 诉诸类比

建造软件系统跟其他任何花费人力财力的项目是相似的。如果打算建造一座房屋，你需要在开始钉钉子之前准备好手绘草图（表达设计概念）和蓝图（即设计样图，包含所有细节信息）。在浇注混凝土之前必须审核蓝图并获得批准。在软件领域做技术规划也包含同样多的事情。



在把圣诞树树立起来之前，你不会对它做装饰；在打开烟囱之前，你不会生火；你不会在车子的邮箱是空的时候上路去长途旅行；你不会在洗完澡之前就穿戴整齐，也不会在穿袜子之前就穿鞋。

**在做软件时，你也必须按正确的顺序去做事情。**



***程序员是软件食物链的最后一环。架构师吃掉需求，设计师吃掉架构，而程序员则消化设计。***


----

### Example

我们用真实的食物链来比喻软件食物链。在健康的生态环境中，海鸥吃新鲜的鲑鱼，这对海鸥是营养丰富的大餐，因为鲑鱼吃的是新鲜的青鱼，而清鱼吃的是新鲜的水蝽。这是一条健康的食物链。在软件开发中，如果食物链的每一级都有健康的事务，那么最终就会获得由快乐的程序员编写出的健康的代码。


在受到污染的环境中，水蝽在核废料中游泳，青鱼被聚氯联二苯（PCB）污染，而吃青鱼的鲑鱼又在泄露的原油中游荡。海鸥，很不幸，它位于食物链的最后一环，因此它吃下去的不仅仅是不健康的鲑鱼体内的原油，还有青鱼体内的聚氯联二苯和水蝽体内的核废料.。在软件开发中，如果需求被无言了，那么它就会污染架构，而架构又会污染构建。这样会导致程序员脾气暴躁，营养失调；开发出的软件具有放射性污染，而且周身都是缺陷。


如果你正为某个高度迭代的项目做计划，那么在开始构建活动之前，*你需要针对将要构造的每一片段，先弄清楚哪些是最关键的需求和架构要素。*

建造住宅小区的施工人员，在开始建造第一栋房子之前，并不需要知道小区里面每一栋房子的每一个细节。但他会调查施工场所，制定下水道和电线的走向等。如果施工人员准备不充分，那么建造过程很可能会因为“需要在某所已经造好的房子的地下挖一条下水道”而延误。


----

### Appeal to Data

过去 25 年来的研究确凿地证明了，在一开始就把事情做好是最合算的。进行非必要的改动的代价是高昂的。


惠普、IBM、休斯飞机公司、TRW 以及其他组织的研究人员发现，**在构建活动开始之前清除一个错误，那么返工的成本仅仅是“在开发过程的最后阶段（在系统测试期间或者发布之后）做同样事情”的十分之一到百分之一。**

一般而言，这里的原则是：发现错误的时间要尽可能接近引入该错误的时间。**缺陷在软件食物链里面呆的时间越长，它对食物链的后级造成损害就越严重。**

由于需求市首先要完成的事情，需求的缺陷就有可能在系统中潜伏更长的时间，代价也更加昂贵。在软件开发过程的上游引入的缺陷通常比那些再下游引入的缺陷具有更广泛的影响力。这也使得早期的缺陷代价更加高昂。


表 3-1 修复缺陷的平均成本与引入缺陷的时间和检测到该缺陷的时间之间的关系


--------------------------------------------------------------------------
:引入缺陷的时间     :需求		:架构     :构建   :系统测试   :发布之后
--------------------------------------------------------------------------
需求				I            3        5-10       10          10-100
--------------------------------------------------------------------------
架构 				--			 I         10        15          25-100
--------------------------------------------------------------------------
构建				--			--			I		10			 10-25
--------------------------------------------------------------------------

表 3-1 的数据显示，例如，假设在创建架构的期间修复某个架构缺陷需要花 1000 美元，那么在系统测试期间修复这一缺陷，将要花费 15 000 美元。图 3-1 解释了同样的现象。

![引入缺陷与修复成本关系](3-1-bug-cost.png)

平均水平的项目仍然把绝大部分的缺陷修正工作放到图 3-1 的右侧进行，这也就意味着“调试连同相应的返工” 在典型的软件开发周期中会占据大约 50% 的时间。许多公司发现，只需在项目中尽早集中纠正缺陷，就能将开发的成本和时间减半（甚至更多）。所以你应该尽早查找并修正错误。


----

### Boss-Readiness Test
“老板就绪”测试

如果你觉得你的老板已经明白了“在开始构建之前进行前期准备”的重要性，那么试试以下的测试，以确保他确实明白了。

下面的句子哪些是自我实现的语言(self-fulfilling prophecies)?

- 我们最好立刻开始编码，因为将会有很多的调试工作需要做。

- 我们并没有为测试安排太多的时间，因为将来不会发现多少缺陷。

- 我们已经非常详细地研究了需求和设计，我想不出编码和调试期间还会遇到什么大问题。

上面这些陈述都是自我实现的语言。要瞄准最后那个。

> 自我实现预言，是指当你对未来的行为或事件预测时，就会对你行为的互动改变很大，以至于产生预期的结果。























